repos:
  - repo: local
    hooks:
      - id: ruff-format-and-check
        name: ruff format and check
        entry: sh -c "ruff format . && ruff check --fix ."
        language: system
        pass_filenames: false
        always_run: true

      - id: mypy
        name: mypy type checking
        entry: mypy src/grin_to_s3/ --explicit-package-bases
        language: system
        pass_filenames: false
        always_run: true

      - id: pytest
        name: pytest
        entry: python -m pytest src/tests/ -v --tb=short -n auto
        language: system
        pass_filenames: false
        always_run: true
